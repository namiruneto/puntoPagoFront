<div id="auth">
    <div class="row h-100 m-5">
        <div class="col-md-4 offset-md-4">
            <div id="auth-left">
                <h1 class="auth-title" style="font-weight: 600;">Inicia sesión</h1>  
                <div class="alert alert-dismissible show fade"
                [ngClass]="{'alert-success': result.success, 'alert-danger': !result.success}"
                *ngIf="result.IsSend">
                    {{result.message}}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"
                    (click)="CerrarMensaje()"></button>
                </div>           
                <form [formGroup]="user" (ngSubmit)= "login()">
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input type="text"
                         class="form-control form-control-xl" 
                         placeholder="Email"
                         formControlName="email"
                         [ngClass]="{'is-invalid': CamposValidos.email?.invalid && CamposValidos.email?.touched}"
                         >
                        <div class="form-control-icon">
                            <i class="bi bi-person"></i>
                        </div>

                        <div>
                            <small *ngIf="CamposValidos.email?.invalid && CamposValidos.email?.touched && 
                            CamposValidos.email?.hasError('required')"
                        style="font-weight: 600;"
                         class="text-danger">
                            El email es requerido</small>
                        
                        <small *ngIf="CamposValidos.email?.invalid &&  CamposValidos.email?.touched && 
                        CamposValidos.email?.hasError('pattern')"
                            style="font-weight: 600;"
                             class="text-danger">
                                El email debe ser valido</small>
                        </div>
                        
                    </div>
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input 
                        type="password" 
                        class="form-control 
                        form-control-xl" 
                        placeholder="Password"
                        formControlName="password"
                        [ngClass]="{'is-invalid': CamposValidos.password?.invalid && CamposValidos.password?.touched}"
                        >
                        <div class="form-control-icon">
                            <i class="bi bi-shield-lock"></i>
                        </div>
                        <small *ngIf="CamposValidos.password?.invalid && CamposValidos.password?.touched"
                        style="font-weight: 600;"
                         class="text-danger">
                            El password es requerido</small>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block btn-lg shadow-lg mt-3"
                    [disabled] = "!user.valid" >               
                    <div class="spinner-grow spinner-grow-sm" role="status" *ngIf="isLoanding">
                        <span class="sr-only">Loading...</span>
                    </div>    
                    <span *ngIf="isLoanding === false">
                        Inicia sesión   
                    </span>    
                    </button>
                </form>              
            </div>
        </div>      
    </div>
</div>